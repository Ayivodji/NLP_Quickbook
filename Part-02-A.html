
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Text Cleaning &#8212; Quick NLP Projects</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Spell Correction" href="Part-02-B.html" />
    <link rel="prev" title="Text Classification" href="Part-01.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Quick NLP Projects</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="Part-01.html">
   Text Classification
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Text Cleaning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-02-B.html">
   Spell Correction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-03%20NLP%20with%20spaCy%20and%20Textacy.html">
   Leveraging Linguistics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-03%20NLP%20with%20spaCy%20and%20Textacy.html#question-generation-using-dependency-parsing">
   Question Generation using Dependency Parsing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-03%20NLP%20with%20spaCy%20and%20Textacy.html#level-up-question-and-answer">
   Level Up: Question and Answer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-03%20NLP%20with%20spaCy%20and%20Textacy.html#facts-extraction-using-semi-structured-sentence-parsing">
   Facts Extraction using Semi Structured Sentence Parsing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-04%20Text%20Representations.html">
   KeyedVectors API
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-04%20Text%20Representations.html#how-to-handle-oov-words">
   How to handle OOV words?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-04%20Text%20Representations.html#train-fasttext-embedddings">
   Train FastText Embedddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-04%20Text%20Representations.html#train-word2vec-embeddings">
   Train word2vec Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-04%20Text%20Representations.html#fasttext-or-word2vec">
   fastText or word2vec?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-04%20Text%20Representations.html#document-embeddings">
   Document Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-04%20Text%20Representations.html#model-assessment">
   Model Assessment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-05%20Modern%20Text%20Classification.html">
   Modern Methods for Text Classification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-05%20Modern%20Text%20Classification.html#multinomial-naive-bayes">
   Multinomial Naive Bayes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-05%20Modern%20Text%20Classification.html#automatically-fine-tuning">
   Automatically Fine Tuning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-05%20Modern%20Text%20Classification.html#ensemble-models">
   Ensemble Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-06%20Deep%20Learning%20for%20NLP.html">
   Deep Learning for NLP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-06%20Deep%20Learning%20for%20NLP.html#understanding-deep-learning">
   Understanding Deep Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-06%20Deep%20Learning%20for%20NLP.html#kaggle-text-categorization-challenge">
   Kaggle: Text Categorization Challenge
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-06%20Deep%20Learning%20for%20NLP.html#getting-the-data">
   Getting the Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-06%20Deep%20Learning%20for%20NLP.html#why-pytorch">
   Why PyTorch?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-06%20Deep%20Learning%20for%20NLP.html#pytorch-and-torchtext">
   PyTorch and torchtext
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-07%20Building%20your%20own%20Chatbot%20in%2030%20minutes.html">
   Building your own Chatbot
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Part-10%20Bonus%20Content.html">
   [Basic] Information Extraction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="README.html">
   Natural Language Processing Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="README.html#available-as-a-book-nlp-in-python-quickstart-guide">
   Available as a Book: NLP in Python - Quickstart Guide
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="Part-08%20Web%20Deployments/README.html">
   Deploying a ML model with Flask API
  </a>
  <ul class="simple collapse-ul">
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Part-02-A.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/Part-02-A.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-data">
   Load Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploring-loaded-data">
     Exploring Loaded Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tokenization">
   Tokenization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#split-by-whitespace">
     Split by Whitespace
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#split-by-word-extraction">
     Split by Word Extraction
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spacy-for-tokenization">
     spaCy for Tokenization
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#stop-word-removal-case-change">
       STOP WORD REMOVAL &amp; CASE CHANGE
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stemming-and-lemmatization">
   Stemming and Lemmatization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spacy-for-lemmatization">
     spaCy for Lemmatization
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="text-cleaning">
<h1>Text Cleaning<a class="headerlink" href="#text-cleaning" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://www.gutenberg.org/ebooks/1661.txt.utf-8&#39;</span>
<span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;sherlock.txt&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="c1"># Download the file from `url` and save it locally under `file_name`:</span>

<span class="k">with</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">out_file</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># a `bytes` object</span>
        <span class="n">out_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls <span class="o">{</span>*.txt<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>requirements.txt
sherlock.txt
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>head -2 sherlock.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ï»¿Project Gutenberg&#39;s The Adventures of Sherlock Holmes, by Arthur Conan Doyle
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>sed -i <span class="m">1</span>,33d sherlock.txt
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>head -5 sherlock.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>THE ADVENTURES OF SHERLOCK HOLMES

by

SIR ARTHUR CONAN DOYLE
</pre></div>
</div>
</div>
</div>
<div class="section" id="load-data">
<h2>Load Data<a class="headerlink" href="#load-data" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#let&#39;s the load data to RAM</span>
<span class="n">text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c1"># note that I add an encoding=&#39;utf-8&#39; parameter to preserve information</span>
<span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>THE A
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The file is loaded as datatype: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="si">}</span><span class="s1"> and has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="si">}</span><span class="s1"> characters in it&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The file is loaded as datatype: &lt;class &#39;str&#39;&gt; and has 581204 characters in it
</pre></div>
</div>
</div>
</div>
<div class="section" id="exploring-loaded-data">
<h3>Exploring Loaded Data<a class="headerlink" href="#exploring-loaded-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># how many unique characters do we see? </span>
<span class="c1"># For reference, ASCII has 127 characters in it - so we expect this to have at most 127 characters</span>
<span class="n">unique_chars</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="n">unique_chars</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">unique_chars</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">unique_chars</span><span class="p">)</span><span class="si">}</span><span class="s1"> unique characters, including both ASCII and Unicode character&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;\n&#39;, &#39; &#39;, &#39;!&#39;, &#39;&quot;&#39;, &#39;$&#39;, &#39;%&#39;, &#39;&amp;&#39;, &quot;&#39;&quot;, &#39;(&#39;, &#39;)&#39;, &#39;*&#39;, &#39;,&#39;, &#39;-&#39;, &#39;.&#39;, &#39;/&#39;, &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;:&#39;, &#39;;&#39;, &#39;?&#39;, &#39;@&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;à&#39;, &#39;â&#39;, &#39;è&#39;, &#39;é&#39;]
There are 85 unique characters, including both ASCII and Unicode character
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="tokenization">
<h2>Tokenization<a class="headerlink" href="#tokenization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="split-by-whitespace">
<h3>Split by Whitespace<a class="headerlink" href="#split-by-whitespace" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>107431
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="mi">90</span><span class="p">:</span><span class="mi">200</span><span class="p">])</span>  <span class="c1">#start with the first chapeter, ignoring the index for now</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;To&#39;, &#39;Sherlock&#39;, &#39;Holmes&#39;, &#39;she&#39;, &#39;is&#39;, &#39;always&#39;, &#39;THE&#39;, &#39;woman.&#39;, &#39;I&#39;, &#39;have&#39;, &#39;seldom&#39;, &#39;heard&#39;, &#39;him&#39;, &#39;mention&#39;, &#39;her&#39;, &#39;under&#39;, &#39;any&#39;, &#39;other&#39;, &#39;name.&#39;, &#39;In&#39;, &#39;his&#39;, &#39;eyes&#39;, &#39;she&#39;, &#39;eclipses&#39;, &#39;and&#39;, &#39;predominates&#39;, &#39;the&#39;, &#39;whole&#39;, &#39;of&#39;, &#39;her&#39;, &#39;sex.&#39;, &#39;It&#39;, &#39;was&#39;, &#39;not&#39;, &#39;that&#39;, &#39;he&#39;, &#39;felt&#39;, &#39;any&#39;, &#39;emotion&#39;, &#39;akin&#39;, &#39;to&#39;, &#39;love&#39;, &#39;for&#39;, &#39;Irene&#39;, &#39;Adler.&#39;, &#39;All&#39;, &#39;emotions,&#39;, &#39;and&#39;, &#39;that&#39;, &#39;one&#39;, &#39;particularly,&#39;, &#39;were&#39;, &#39;abhorrent&#39;, &#39;to&#39;, &#39;his&#39;, &#39;cold,&#39;, &#39;precise&#39;, &#39;but&#39;, &#39;admirably&#39;, &#39;balanced&#39;, &#39;mind.&#39;, &#39;He&#39;, &#39;was,&#39;, &#39;I&#39;, &#39;take&#39;, &#39;it,&#39;, &#39;the&#39;, &#39;most&#39;, &#39;perfect&#39;, &#39;reasoning&#39;, &#39;and&#39;, &#39;observing&#39;, &#39;machine&#39;, &#39;that&#39;, &#39;the&#39;, &#39;world&#39;, &#39;has&#39;, &#39;seen,&#39;, &#39;but&#39;, &#39;as&#39;, &#39;a&#39;, &#39;lover&#39;, &#39;he&#39;, &#39;would&#39;, &#39;have&#39;, &#39;placed&#39;, &#39;himself&#39;, &#39;in&#39;, &#39;a&#39;, &#39;false&#39;, &#39;position.&#39;, &#39;He&#39;, &#39;never&#39;, &#39;spoke&#39;, &#39;of&#39;, &#39;the&#39;, &#39;softer&#39;, &#39;passions,&#39;, &#39;save&#39;, &#39;with&#39;, &#39;a&#39;, &#39;gibe&#39;, &#39;and&#39;, &#39;a&#39;, &#39;sneer.&#39;, &#39;They&#39;, &#39;were&#39;, &#39;admirable&#39;, &#39;things&#39;, &#39;for&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s look at another example: </span>
<span class="s1">&#39;red-headed woman on the street&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;red-headed&#39;, &#39;woman&#39;, &#39;on&#39;, &#39;the&#39;, &#39;street&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="split-by-word-extraction">
<h3>Split by Word Extraction<a class="headerlink" href="#split-by-word-extraction" title="Permalink to this headline">¶</a></h3>
<p><strong>Introducing Regex</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;\W+&#39;</span><span class="p">,</span> <span class="s1">&#39;Words, words, words.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Words&#39;, &#39;words&#39;, &#39;words&#39;, &#39;&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words_alphanumeric</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;\W+&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">words_alphanumeric</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(109111, 107431)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">words_alphanumeric</span><span class="p">[</span><span class="mi">90</span><span class="p">:</span><span class="mi">200</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;BOHEMIA&#39;, &#39;I&#39;, &#39;To&#39;, &#39;Sherlock&#39;, &#39;Holmes&#39;, &#39;she&#39;, &#39;is&#39;, &#39;always&#39;, &#39;THE&#39;, &#39;woman&#39;, &#39;I&#39;, &#39;have&#39;, &#39;seldom&#39;, &#39;heard&#39;, &#39;him&#39;, &#39;mention&#39;, &#39;her&#39;, &#39;under&#39;, &#39;any&#39;, &#39;other&#39;, &#39;name&#39;, &#39;In&#39;, &#39;his&#39;, &#39;eyes&#39;, &#39;she&#39;, &#39;eclipses&#39;, &#39;and&#39;, &#39;predominates&#39;, &#39;the&#39;, &#39;whole&#39;, &#39;of&#39;, &#39;her&#39;, &#39;sex&#39;, &#39;It&#39;, &#39;was&#39;, &#39;not&#39;, &#39;that&#39;, &#39;he&#39;, &#39;felt&#39;, &#39;any&#39;, &#39;emotion&#39;, &#39;akin&#39;, &#39;to&#39;, &#39;love&#39;, &#39;for&#39;, &#39;Irene&#39;, &#39;Adler&#39;, &#39;All&#39;, &#39;emotions&#39;, &#39;and&#39;, &#39;that&#39;, &#39;one&#39;, &#39;particularly&#39;, &#39;were&#39;, &#39;abhorrent&#39;, &#39;to&#39;, &#39;his&#39;, &#39;cold&#39;, &#39;precise&#39;, &#39;but&#39;, &#39;admirably&#39;, &#39;balanced&#39;, &#39;mind&#39;, &#39;He&#39;, &#39;was&#39;, &#39;I&#39;, &#39;take&#39;, &#39;it&#39;, &#39;the&#39;, &#39;most&#39;, &#39;perfect&#39;, &#39;reasoning&#39;, &#39;and&#39;, &#39;observing&#39;, &#39;machine&#39;, &#39;that&#39;, &#39;the&#39;, &#39;world&#39;, &#39;has&#39;, &#39;seen&#39;, &#39;but&#39;, &#39;as&#39;, &#39;a&#39;, &#39;lover&#39;, &#39;he&#39;, &#39;would&#39;, &#39;have&#39;, &#39;placed&#39;, &#39;himself&#39;, &#39;in&#39;, &#39;a&#39;, &#39;false&#39;, &#39;position&#39;, &#39;He&#39;, &#39;never&#39;, &#39;spoke&#39;, &#39;of&#39;, &#39;the&#39;, &#39;softer&#39;, &#39;passions&#39;, &#39;save&#39;, &#39;with&#39;, &#39;a&#39;, &#39;gibe&#39;, &#39;and&#39;, &#39;a&#39;, &#39;sneer&#39;, &#39;They&#39;, &#39;were&#39;, &#39;admirable&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words_break</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;\W+&#39;</span><span class="p">,</span> <span class="s2">&quot;Isn&#39;t he coming home for dinner with the red-headed girl?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">words_break</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Isn&#39;, &#39;t&#39;, &#39;he&#39;, &#39;coming&#39;, &#39;home&#39;, &#39;for&#39;, &#39;dinner&#39;, &#39;with&#39;, &#39;the&#39;, &#39;red&#39;, &#39;headed&#39;, &#39;girl&#39;, &#39;&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="spacy-for-tokenization">
<h3>spaCy for Tokenization<a class="headerlink" href="#spacy-for-tokenization" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="kn">import</span> <span class="nn">spacy</span>
<span class="n">nlp</span> <span class="o">=</span> <span class="n">spacy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Wall time: 2.46 s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">doc</span><span class="p">)[</span><span class="mi">150</span><span class="p">:</span><span class="mi">200</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[whole, of, her, sex, ., It, was, not, that, he, felt, 
, any, emotion, akin, to, love, for, Irene, Adler, ., All, emotions, ,, and, that, 
, one, particularly, ,, were, abhorrent, to, his, cold, ,, precise, but, 
, admirably, balanced, mind, ., He, was, ,, I, take, it, ,]
</pre></div>
</div>
</div>
</div>
<p>Conveniently, spaCy tokenizes all <em>punctuations and words</em> and returned those as individual tokens as well. Let’s try the example which we didn’t like earlier:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="s2">&quot;Isn&#39;t he coming home for dinner with the red-headed girl?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">words</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[Is, n&#39;t, he, coming, home, for, dinner, with, the, red, -, headed, girl, ?]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentences</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">sents</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sentences</span><span class="p">[</span><span class="mi">13</span><span class="p">:</span><span class="mi">18</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[I. A SCANDAL IN BOHEMIA

I.

To Sherlock Holmes, she is always THE woman., I have seldom heard
him mention her under any other name., In his eyes she eclipses
and predominates the whole of her sex., It was not that he felt
any emotion akin to love for Irene Adler.]
</pre></div>
</div>
</div>
</div>
<div class="section" id="stop-word-removal-case-change">
<h4>STOP WORD REMOVAL &amp; CASE CHANGE<a class="headerlink" href="#stop-word-removal-case-change" title="Permalink to this headline">¶</a></h4>
<p>spaCy has already marked each token as a stop word or not and stored it in <code class="docutils literal notranslate"><span class="pre">is_stop</span></code> attribute of each token. This makes it very handy for text cleaning. Let’s take a quick look:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence_example</span> <span class="o">=</span> <span class="s2">&quot;the AI/AGI uprising cannot happen without the progress of NLP&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">token</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">is_stop</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">is_punct</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">nlp</span><span class="p">(</span><span class="n">sentence_example</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(the, True, False),
 (AI, False, False),
 (/, False, True),
 (AGI, True, False),
 (uprising, False, False),
 (can, True, False),
 (not, True, False),
 (happen, False, False),
 (without, True, False),
 (the, True, False),
 (progress, False, False),
 (of, True, False),
 (NLP, True, False)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">doc</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">is_stop</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">is_punct</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>THE False False
ADVENTURES False False
OF False False
SHERLOCK False False
HOLMES False False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text_lower</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>  <span class="c1"># native python function</span>
<span class="n">doc_lower</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="n">text_lower</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">doc_lower</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">is_stop</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>the True
adventures False
of True
sherlock False
holmes False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">spacy.lang.en.stop_words</span> <span class="kn">import</span> <span class="n">STOP_WORDS</span>
<span class="sa">f</span><span class="s1">&#39;spaCy has a dictionary of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">STOP_WORDS</span><span class="p">))</span><span class="si">}</span><span class="s1"> stop words&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;spaCy has a dictionary of 305 stop words&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">domain_stop_words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;NLP&quot;</span><span class="p">,</span> <span class="s2">&quot;Processing&quot;</span><span class="p">,</span> <span class="s2">&quot;AGI&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">domain_stop_words</span><span class="p">:</span>
    <span class="n">STOP_WORDS</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">token</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">is_stop</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">is_punct</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">nlp</span><span class="p">(</span><span class="n">sentence_example</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(the, True, False),
 (AI, False, False),
 (/, False, True),
 (AGI, True, False),
 (uprising, False, False),
 (can, True, False),
 (not, True, False),
 (happen, False, False),
 (without, True, False),
 (the, True, False),
 (progress, False, False),
 (of, True, False),
 (NLP, True, False)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">nlp</span><span class="p">(</span><span class="n">sentence_example</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">is_stop</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">is_punct</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;AI&#39;, &#39;uprising&#39;, &#39;happen&#39;, &#39;progress&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">nlp</span><span class="p">(</span><span class="n">sentence_example</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">is_stop</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;AI&#39;, &#39;/&#39;, &#39;uprising&#39;, &#39;happen&#39;, &#39;progress&#39;]
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="stemming-and-lemmatization">
<h2>Stemming and Lemmatization<a class="headerlink" href="#stemming-and-lemmatization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="spacy-for-lemmatization">
<h3>spaCy for Lemmatization<a class="headerlink" href="#spacy-for-lemmatization" title="Permalink to this headline">¶</a></h3>
<p><strong>spaCy only supports lemmatization</strong></p>
<p>An underscore at end, such as <code class="docutils literal notranslate"><span class="pre">lemma_</span></code> tells spaCy we are looking for something which is human readable. spaCy stores the internal hash or identifier which spaCy stores in <code class="docutils literal notranslate"><span class="pre">token.lemma</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lemma_sentence_example</span> <span class="o">=</span> <span class="s2">&quot;Their Apples &amp; Banana fruit salads are amazing. Would you like meeting me at the cafe?&quot;</span>
<span class="p">[(</span><span class="n">token</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">lemma_</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">lemma</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">pos_</span> <span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">nlp</span><span class="p">(</span><span class="n">lemma_sentence_example</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(Their, &#39;-PRON-&#39;, 561228191312463089, &#39;ADJ&#39;),
 (Apples, &#39;apples&#39;, 14374618037326464786, &#39;PROPN&#39;),
 (&amp;, &#39;&amp;&#39;, 15473034735919704609, &#39;CCONJ&#39;),
 (Banana, &#39;banana&#39;, 2525716904149915114, &#39;PROPN&#39;),
 (fruit, &#39;fruit&#39;, 17674554054627885835, &#39;NOUN&#39;),
 (salads, &#39;salad&#39;, 16382906660984395826, &#39;NOUN&#39;),
 (are, &#39;be&#39;, 10382539506755952630, &#39;VERB&#39;),
 (amazing, &#39;amazing&#39;, 12968186374132960503, &#39;ADJ&#39;),
 (., &#39;.&#39;, 12646065887601541794, &#39;PUNCT&#39;),
 (Would, &#39;would&#39;, 6992604926141104606, &#39;VERB&#39;),
 (you, &#39;-PRON-&#39;, 561228191312463089, &#39;PRON&#39;),
 (like, &#39;like&#39;, 18194338103975822726, &#39;VERB&#39;),
 (meeting, &#39;meet&#39;, 6880656908171229526, &#39;VERB&#39;),
 (me, &#39;-PRON-&#39;, 561228191312463089, &#39;PRON&#39;),
 (at, &#39;at&#39;, 11667289587015813222, &#39;ADP&#39;),
 (the, &#39;the&#39;, 7425985699627899538, &#39;DET&#39;),
 (cafe, &#39;cafe&#39;, 10569699879655997926, &#39;NOUN&#39;),
 (?, &#39;?&#39;, 8205403955989537350, &#39;PUNCT&#39;)]
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-nlp-py"
        },
        kernelOptions: {
            kernelName: "conda-env-nlp-py",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-nlp-py'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="Part-01.html" title="previous page">Text Classification</a>
    <a class='right-next' id="next-link" href="Part-02-B.html" title="next page">Spell Correction</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Jupyter Book community<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>